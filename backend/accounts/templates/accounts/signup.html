{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JobElevate - Create Account</title>
    <!-- ==== STYLE.CSS ==== -->
    <style>
      /* ==== "Inter" FONT-FAMILY FROM FONTS.GOOGLE.COM  ==== */
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
      /* ==== ROOT RESET ==== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Inter", sans-serif;
      }
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      /* ==== CSS VARIABLES ==== */
      :root {
        --primary-color: #3563E9;
        --secondary-color: #6D83F2;
        --link-color: #506690;
        --btn-hover-color: #2952D8;
        --lg-heading: #161c2d;
        --text-content: #869ab8;
        --fixed-header-height: 4.5rem;
        --font-size-body-text: clamp(14px, 1.6vw, 16px);
        --h1-font-size: calc(var(--font-size-body-text) * 2.4);
        --h2-font-size: calc(var(--h1-font-size) - 15px);
        --h3-font-size: calc(var(--h2-font-size) - 8px);
      }

      /* ==== RESET HTML ==== */
      body {
        width: 100%;
        height: 100vh;
        overflow-x: hidden;
        background-color: #f7f9fc;
      }
      ul li {
        list-style-type: none;
      }
      a {
        text-decoration: none;
      }
      button {
        background-color: transparent;
        border: none;
        outline: none;
        cursor: pointer;
      }

      /* ==== CONTAINER ==== */
      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0;
      }

      /* ==== HEADER ==== */
      .header {
        height: var(--fixed-header-height);
        padding: 0 2rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: #fff;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
      }

      .logo {
        display: flex;
        align-items: center;
      }

      .logo h2 {
        font-size: var(--h2-font-size);
        color: var(--primary-color);
        font-weight: 700;
      }

      .nav_menu_list {
        display: flex;
        align-items: center;
        gap: 2.5rem;
      }

      .nav_menu_item .nav_menu_link {
        font-size: 16px;
        line-height: 27px;
        color: var(--link-color);
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .nav_menu_link:hover {
        color: var(--primary-color);
      }

      /* ==== MAIN CONTAINER ==== */
      .main-container {
        display: flex;
        margin-top: var(--fixed-header-height);
        min-height: calc(100vh - var(--fixed-header-height));
      }

      /* ==== IMAGE SECTION ==== */
      .image-section {
        width: 45%;
        background-color: #f0f4ff;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem;
      }

      .image-section img {
        max-width: 65%;
        height: auto;
      }

      .image-section .welcome-text {
        margin-top: 2rem;
        text-align: center;
      }

      .image-section h2 {
        font-size: var(--h2-font-size);
        color: var(--primary-color);
        margin-bottom: 1rem;
      }

      .image-section p {
        font-size: 16px;
        color: var(--text-content);
        line-height: 1.6;
        max-width: 80%;
        margin: 0 auto;
      }

      /* ==== FORM SECTION ==== */
      .form-section {
        width: 55%;
        padding: 3rem 4rem;
        overflow-y: auto;
        max-height: calc(100vh - var(--fixed-header-height));
      }

      /* ==== FORM STYLES ==== */
      .form-container {
        width: 100%;
      }

      .form-container .title {
        font-size: var(--h1-font-size);
        color: var(--lg-heading);
        margin-bottom: 0.5rem;
        font-weight: 600;
      }

      .form-container .subtitle {
        font-size: 16px;
        color: var(--text-content);
        margin-bottom: 2rem;
      }

      .form-container .input-box {
        margin-bottom: 1.5rem;
        width: 48%;
      }

      .form-row {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }

      .form-container .input-box.full-width {
        width: 100%;
      }

      .form-container .input-box label {
        display: block;
        font-size: 14px;
        color: var(--lg-heading);
        margin-bottom: 0.5rem;
        font-weight: 500;
      }

      .form-container .input-box input,
      .form-container .input-box select {
        width: 100%;
        height: 50px;
        padding: 0 1rem;
        font-size: 15px;
        border: 1px solid #e5e9f2;
        border-radius: 8px;
        background-color: #fff;
        transition: all 0.3s ease;
      }

      .form-container .input-box input:focus,
      .form-container .input-box select:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 4px rgba(53, 99, 233, 0.1);
        outline: none;
      }

      .form-container .input-box .toggle-password {
        position: absolute;
        right: 1rem;
        top: 70%;
        transform: translateY(-50%);
        cursor: pointer;
        font-size: 18px;
        color: var(--link-color);
      }

      .form-container .button {
        margin-top: 2rem;
      }

      .form-container .button input {
        width: 100%;
        height: 52px;
        background-color: var(--primary-color);
        color: #fff;
        font-size: 16px;
        font-weight: 600;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(53, 99, 233, 0.2);
      }

      .form-container .button input:hover {
        background-color: var(--btn-hover-color);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(53, 99, 233, 0.3);
      }

      .form-container .login-link {
        text-align: center;
        margin-top: 1.5rem;
        font-size: 15px;
        color: var(--text-content);
      }

      .form-container .login-link a {
        color: var(--primary-color);
        font-weight: 500;
      }

      .form-container .login-link a:hover {
        text-decoration: underline;
      }

      .dynamic-fields {
        display: none;
        margin-top: 1.5rem;
        padding-top: 1.5rem;
        border-top: 1px solid #e5e9f2;
      }

      .dynamic-fields.active {
        display: block;
      }

      .dynamic-fields-title {
        font-size: 18px;
        color: var(--lg-heading);
        margin-bottom: 1.5rem;
        font-weight: 500;
      }

      .alert {
        padding: 1rem;
        margin-bottom: 1.5rem;
        border-radius: 8px;
        text-align: center;
        font-size: 14px;
      }

      .alert.success {
        background-color: #d1fadf;
        color: #039855;
        border: 1px solid #a6f4c5;
      }

      .alert.error {
        background-color: #fee4e2;
        color: #d92d20;
        border: 1px solid #fecdca;
      }

      /* ==== MEDIA QUERIES ==== */
      @media screen and (max-width: 1024px) {
        .main-container {
          flex-direction: column;
        }
        .image-section, .form-section {
          width: 100%;
        }
        .image-section {
          padding: 3rem 2rem;
        }
        .form-section {
          padding: 3rem 2rem;
        }
      }

      @media screen and (max-width: 768px) {
        .form-container .input-box {
          width: 100%;
        }
        .nav_menu_list {
          display: none;
        }
        .form-section {
          padding: 2rem;
        }
        .image-section img {
          max-width: 90%;
        }
      }
      
      .form-container .input-box {
        position: relative;
      }
      
      .form-container .toggle-password {
        position: absolute;
        right: 1rem;
        top: calc(50% + 12px);
        transform: translateY(-50%);
        cursor: pointer;
        color: var(--link-color);
        pointer-events: auto;
      }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <script>
      function togglePassword(fieldId) {
        const passwordField = document.getElementById(fieldId);
        const eyeIcon = passwordField.nextElementSibling;
        
        if (passwordField.type === "password") {
          passwordField.type = "text";
          eyeIcon.classList.remove("ri-eye-line");
          eyeIcon.classList.add("ri-eye-off-line");
        } else {
          passwordField.type = "password";
          eyeIcon.classList.remove("ri-eye-off-line");
          eyeIcon.classList.add("ri-eye-line");
        }
      }
      
      function toggleDynamicFields() {
        const userType = document.getElementById("user_type").value;
        const studentFields = document.getElementById("student-fields");
        const professionalFields = document.getElementById("professional-fields");
        const recruiterFields = document.getElementById("recruiter-fields");

        studentFields.classList.remove("active");
        professionalFields.classList.remove("active");
        recruiterFields.classList.remove("active");

        if (userType === "student") {
          studentFields.classList.add("active");
        } else if (userType === "professional") {
          professionalFields.classList.add("active");
        } else if (userType === "recruiter") {
          recruiterFields.classList.add("active");
        }
      }
      
      // Execute when page loads
      document.addEventListener('DOMContentLoaded', function() {
        const userType = document.getElementById("user_type").value;
        if (userType) {
          toggleDynamicFields();
        }
      });
    </script>
  </head>
  <body>
    <!-- ==== HEADER ==== -->
    <header class="header">
      <div class="logo">
        <h2>JobElevate.</h2>
      </div>
      <ul class="nav_menu_list">
        <li class="nav_menu_item">
          <a href="/" class="nav_menu_link">Home</a>
        </li>
        <li class="nav_menu_item">
          <a href="/login/" class="nav_menu_link">Login</a>
        </li>
        <li class="nav_menu_item">
          <a href="/" class="nav_menu_link">Services</a>
        </li>
        <li class="nav_menu_item">
          <a href="#" class="nav_menu_link">Contact</a>
        </li>
      </ul>
    </header>

    <!-- ==== MAIN CONTAINER ==== -->
    <div class="main-container">
      <!-- Image Section -->
      <div class="image-section">
        <img src="{% static 'images/file.svg' %}" alt="Team Illustration">
        <div class="welcome-text">
          <h2>Welcome to JobElevate</h2>
          <p>Join our platform to connect with employers, find jobs, and advance your career with personalized opportunities.</p>
        </div>
      </div>
      
      <!-- Form Section -->
      <div class="form-section">
        <div class="form-container">
          <div class="title">Create Your Account</div>
          <div class="subtitle">Please fill in the details to get started</div>
          
          {% if messages %}
            {% for message in messages %}
              <div class="alert {% if message.tags %}{{ message.tags }}{% endif %}">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}

          <form action="{% url 'accounts:signup' %}" method="POST">
            {% csrf_token %}
            <div class="form-row">
              <div class="input-box">
                <label for="full_name">Full Name</label>
                <input
                  type="text"
                  id="full_name"
                  name="full_name"
                  placeholder="Enter your full name"
                  value="{{ form_data.full_name|default:'' }}"
                  required
                />
              </div>
              <div class="input-box">
                <label for="username">Username</label>
                <input
                  type="text"
                  id="username"
                  name="username"
                  placeholder="Choose a username"
                  value="{{ form_data.username|default:'' }}"
                  required
                />
              </div>
            </div>
            <div class="form-row">
              <div class="input-box">
                <label for="email">Email Address</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="you@example.com"
                  value="{{ form_data.email|default:'' }}"
                  required
                />
              </div>
              <div class="input-box">
                <label for="phone_number">Phone Number</label>
                <input
                  type="text"
                  id="phone_number"
                  name="phone_number"
                  placeholder="Enter your phone number"
                  value="{{ form_data.phone_number|default:'' }}"
                  required
                />
              </div>
            </div>
            <div class="form-row">
              <div class="input-box">
                <label for="password">Password</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                  placeholder="Create a password"
                  required
                />
                <i class="ri-eye-line toggle-password" onclick="togglePassword('password')"></i>
              </div>
              <div class="input-box">
                <label for="confirm_password">Confirm Password</label>
                <input
                  type="password"
                  id="confirm_password"
                  name="confirm_password"
                  placeholder="Confirm your password"
                  required
                />
                <i class="ri-eye-line toggle-password" onclick="togglePassword('confirm_password')"></i>
              </div>
            </div>  
            <div class="input-box full-width">
              <label for="user_type">I am a</label>
              <select
                id="user_type"
                name="user_type"
                onchange="toggleDynamicFields()"
                required
              >
                <option value="">Select user type</option>
                <option value="student" {% if form_data.user_type == 'student' %}selected{% endif %}>Student</option>
                <option value="professional" {% if form_data.user_type == 'professional' %}selected{% endif %}>Professional</option>
                <option value="recruiter" {% if form_data.user_type == 'recruiter' %}selected{% endif %}>Recruiter</option>
              </select>
            </div>

            <!-- Dynamic Fields -->
            <div id="student-fields" class="dynamic-fields">
              <div class="dynamic-fields-title">Student Information</div>
              <div class="form-row">
                <div class="input-box">
                  <label for="university">University</label>
                  <input
                    type="text"
                    id="university"
                    name="university"
                    placeholder="Enter your university"
                    value="{{ form_data.university|default:'' }}"
                  />
                </div>
                <div class="input-box">
                  <label for="degree">Degree</label>
                  <input
                    type="text"
                    id="degree"
                    name="degree"
                    placeholder="Enter your degree program"
                    value="{{ form_data.degree|default:'' }}"
                  />
                </div>
              </div>
              <div class="input-box full-width">
                <label for="graduation_year">Expected Graduation Year</label>
                <input
                  type="number"
                  id="graduation_year"
                  name="graduation_year"
                  placeholder="Enter your graduation year"
                  value="{{ form_data.graduation_year|default:'' }}"
                />
              </div>
            </div>

            <div id="professional-fields" class="dynamic-fields">
              <div class="dynamic-fields-title">Professional Information</div>
              <div class="form-row">
                <div class="input-box">
                  <label for="job_title">Current Job Title</label>
                  <input
                    type="text"
                    id="job_title"
                    name="job_title"
                    placeholder="Enter your job title"
                    value="{{ form_data.job_title|default:'' }}"
                  />
                </div>
                <div class="input-box">
                  <label for="organization">Organization</label>
                  <input
                    type="text"
                    id="organization"
                    name="organization"
                    placeholder="Enter your organization"
                    value="{{ form_data.organization|default:'' }}"
                  />
                </div>
              </div>
              <div class="input-box full-width">
                <label for="experience">Years of Experience</label>
                <input
                  type="text"
                  id="experience"
                  name="experience"
                  placeholder="Enter your years of experience"
                  value="{{ form_data.experience|default:'' }}"
                />
              </div>
            </div>

            <div id="recruiter-fields" class="dynamic-fields">
              <div class="dynamic-fields-title">Company Information</div>
              <div class="form-row">
                <div class="input-box">
                  <label for="company_name">Company Name</label>
                  <input
                    type="text"
                    id="company_name"
                    name="company_name"
                    placeholder="Enter your company name"
                    value="{{ form_data.company_name|default:'' }}"
                  />
                </div>
                <div class="input-box">
                  <label for="company_website">Company Website</label>
                  <input
                    type="text"
                    id="company_website"
                    name="company_website"
                    placeholder="Enter your company website"
                    value="{{ form_data.company_website|default:'' }}"
                  />
                </div>
              </div>
              <div class="input-box full-width">
                <label for="company_description">Company Description</label>
                <input
                  type="text"
                  id="company_description"
                  name="company_description"
                  placeholder="Briefly describe your company"
                  value="{{ form_data.company_description|default:'' }}"
                />
              </div>
            </div>

            <div class="button">
              <input type="submit" value="Create Account" />
            </div>
            
            <div class="login-link">
              Already have an account? <a href="/login/">Login here</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>